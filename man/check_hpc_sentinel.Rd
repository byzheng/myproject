% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hpc.R
\name{check_hpc_sentinel}
\alias{check_hpc_sentinel}
\title{Check HPC Sentinel Staleness for targets}
\usage{
check_hpc_sentinel(
  sentinel_path,
  input_files,
  on_missing = c("stop", "warn"),
  on_stale = c("stop", "warn", "delete")
)
}
\arguments{
\item{sentinel_path}{Path to sentinel file}

\item{input_files}{Character vector of current input file paths}

\item{on_missing}{Action when sentinel missing: "stop" (default) or "warn"}

\item{on_stale}{Action when sentinel stale: "stop" (default), "warn", or "delete"}
}
\value{
Sentinel path if valid, otherwise stops with informative error
}
\description{
Check HPC Sentinel Staleness for targets
}
\details{
Validates sentinel by checking:
1. Sentinel file exists
2. Input files haven't changed since HPC job ran
3. All expected input files are tracked in sentinel

If validation fails, provides clear error message and optionally deletes stale sentinel.
}
\examples{
\dontrun{
# In targets file:
targets::tar_target(
  file_hpc_complete,
  {
    upstream_inputs <- c(file_cleaned_data, file_params)
    check_hpc_sentinel(
      sentinel_path = here::here("output/.hpc_complete"),
      input_files = upstream_inputs
    )
  },
  format = "file"
)
}
}
